<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Compteur</title>
  <style>
    body { font-family: Arial, sans-serif; background: #4f2626; padding: 20px; max-width: 600px; margin: auto; }
    .counter { font-size: 48px; font-weight: bold; text-align: center; margin: 20px 0; }
    input[type=number], input[type=text] {
      padding: 10px;
      font-size: 18px;
      width: 100%;
      margin: 5px 0;
      box-sizing: border-box;
    }
    button {
      padding: 10px;
      font-size: 16px;
      margin: 5px 2px;
      border: none;
      border-radius: 5px;
      background-color: #007bff;
      color: white;
      cursor: pointer;
    }
    button:hover { background-color: #0056b3; }
    .actions, .config-panel { margin-top: 20px; }
    .action-item { display: flex; justify-content: space-between; align-items: center; padding: 5px 0; }
    .action-item label { flex: 1; }
    @media (prefers-color-scheme: dark) {
  body {
    background: #4f2626;
    color: #ffffff;
  }
  .counter {
    color: #ffffff;
  }
  input, button {
    background-color: #1e1e1e;
    color: #ffffff;
    border: 1px solid #444;
  }
  button:hover {
    background-color: #333333;
  }
}
  </style>
  <link rel="manifest" href="manifest.json" />
<link rel="apple-touch-icon" href="icon-192.png" />
<meta name="theme-color" content="#007bff">
</head>
<body>
  <div class="counter"><span id="points">0</span></div>
  <div style="margin: 30px 0;">
  <div style="font-weight: bold; font-size: 18px; margin-bottom: 5px;">XP</div>
  <div style="background: #ccc; border-radius: 10px; overflow: hidden; height: 20px;">
    <div id="xpBar" style="background: #28a745; height: 100%; width: 0%; transition: width 0.3s;"></div>
  </div>
  <div id="levelInfo" style="text-align: center; margin-top: 5px; font-size: 16px;"></div>
</div>

  <div class="actions">
    <div id="actionList">
      <div class="action-item"><label><input type="checkbox" value="2"> Sexto (-2)</label></div>
      <div class="action-item"><label><input type="checkbox" value="25"> Raconter un fanstasme (-25)</label></div> 
      <div class="action-item"><label><input type="checkbox" value="1"> Dire/écrire "Je suis à toi" (x1/jour max) (-1)</label></div>
      <div class="action-item"><label><input type="checkbox" value="1"> Flash poitrine (-1)</label></div>
      <div class="action-item"><label><input type="checkbox" value="1"> Flash derrière (-1)</label></div>
      <div class="action-item"><label><input type="checkbox" value="2"> Flash devant (-2)</label></div>
      <hr />
      <div class="action-item"><label><input type="checkbox" value="3"> Body Writing ou accessoire (-3)</label></div>
      <div class="action-item"><label><input type="checkbox" value="5"> Pas de culotte (par H) (-5)</label></div>
      <div class="action-item"><label><input type="checkbox" value="10"> Pas de culotte en ext. (par H) (-10)</label></div>
      <div class="action-item"><label><input type="checkbox" value="5"> SexToy caché (par H) (-5)</label></div>
      <hr />
      <div class="action-item"><label><input type="checkbox" value="4"> Photo (-4)</label></div>
      <div class="action-item"><label><input type="checkbox" value="8"> Vidéo (-8)</label></div>
      <hr />
      <div class="action-item"><label><input type="checkbox" value="5"> Masturbation (-5)</label></div>
      <div class="action-item"><label><input type="checkbox" value="10"> Faire l'amour (-10)</label></div>
      <div class="action-item"><label><input type="checkbox" value="15"> Baise sauvage (-20)</label></div>
      <div class="action-item"><label><input type="checkbox" value="15"> Pipe (-15)</label></div>
      <div class="action-item"><label><input type="checkbox" value="20"> Cul (-20)</label></div>
      <div class="action-item"><label><input type="checkbox" value="20"> Double pénétration avec sextoy (-20)</label></div>
      <hr />
      <div style="margin-top: 10px; font-weight: bold;">Bonus</div>
      <div class="action-item"><label><input type="checkbox" value="1"> Bonus : Matin (-1)</label></div>
      <div class="action-item"><label><input type="checkbox" value="3"> Bonus : Journée (-3)</label></div>
      <div class="action-item"><label><input type="checkbox" value="1"> Bonus : Dirty talk (-1)</label></div>
      <div class="action-item"><label><input type="checkbox" value="2"> Bonus : Initiative S (-2)</label></div>
      <div class="action-item"><label><input type="checkbox" value="3"> Bonus : Voiture (-3)</label></div>
      <div class="action-item"><label><input type="checkbox" value="5"> Bonus : Extérieur (-5)</label></div>      
      <div class="action-item"><label><input type="checkbox" value="4"> Bonus : Obéissance (-4)</label></div>
      <div class="action-item"><label><input type="checkbox" value="75"> Bonus : Soirée sans enfants (F)(-75)</label></div>
      <div class="action-item"><label><input type="checkbox" value="300"> Bonus : Réaliser un fantasme (-300)</label></div>
      <hr />
      <hr />
      <hr />
      <hr />
      <hr />    
      <div style="margin-top: 10px; font-weight: bold;">DEBORDEMENT >300pts</div>
      <div class="action-item"><label><input type="checkbox" value="50"> Servir d'Art (-50)</label></div>
      <div class="action-item"><label><input type="checkbox" value="50"> Body Writing dirty (-50)</label></div>
      <div class="action-item"><label><input type="checkbox" value="100"> Attachée et caresses (-100)</label></div>
      <div class="action-item"><label><input type="checkbox" value="150"> Scénario Complet (-150)</label></div>
      <div class="action-item"><label><input type="checkbox" value="300"> Freeuse 24h (-300)</label></div>
      <hr />
      <hr />
      <hr />
      <hr />
      <hr />
      <div style="margin-top: 10px; font-weight: bold;">PENALITES</div>
      <div class="action-item"><label><input type="checkbox" value="-10"> Inter pompier (10)</label></div>
      <div class="action-item"><label><input type="checkbox" value="-25"> Désobéissance (25)</label></div>
      <div class="action-item"><label><input type="checkbox" value="75"> Soirée sans enfants (S)(75)</label></div>
      <div class="action-item"><label><input type="checkbox" value="-150"> 1 semaine sans réduction du score (150)</label></div>
      
      <hr />
      
    </div>
    <button onclick="validerActions()" style="width: 100%;">Valider</button>
       <hr />
      <input type="number" id="manualInput" placeholder="Ajouter ou retirer des points..." />
  <div style="display: flex; justify-content: space-between;">
    <button onclick="ajouter()">➕</button>
    <button onclick="retirer()">➖</button>
  </div>

  <script>
    const pointsEl = document.getElementById("points");
    const manualInput = document.getElementById("manualInput");

    let points = parseInt(localStorage.getItem("points") || "0");

    let xp = parseInt(localStorage.getItem("xp") || "0");

const xpBar = document.getElementById("xpBar");
const levelInfo = document.getElementById("levelInfo");

const levels = [
  "Pucelle", "Flirteuse", "Allumeuse", "Chaude débutante", "Branleuse timide",
  "Lécheuse d’idées", "Initiée du cul", "Doigt curieux", "Petite cochonne", "Jouisseuse novice",
  "Experte en soupirs", "Mignonne perverse", "Salope appliquée", "Langue en mission", "Obsédée du bas",
  "Pénétrable consentie", "Pipeuse convaincue", "Putain en herbe", "Succube apprentie", "Démonette du clito",
  "Gobeuse d’âmes", "Montée sur ressorts", "Ventre en chaleur", "Poupée désinhibée", "Saliveuse compulsive",
  "Cavalière soumise", "Incontinentale du cul", "Sexe toujours prêt", "Muse du stupre", "Torche-seins",
  "Mâcheuse de queues", "Obéissante cradingue", "Avaleuse de perversions", "Chienne élégante", "Miroir à fantasmes",
  "Partouzeuse dévouée", "Trou béni", "Escorte de l’Enfer", "Hystérique du god", "Prêtresse du vice",
  "Déviante vénérée", "Sainte Putain", "Reine des coups", "Oracle des reins", "Gourmande de foutre",
  "Offerte éternelle", "Suceuse canonisée", "Fée sodomique", "Possédée du plaisir", "Déesse du stupre"
];

function majXPBar() {
  const niveau = Math.floor(xp / 300);
  const nomNiveau = levels[Math.min(niveau, levels.length - 1)];
  const progression = (xp % 300) / 300 * 100;

  xpBar.style.width = progression + "%";
  levelInfo.textContent = `Niveau ${niveau + 1} : ${nomNiveau}`;
  localStorage.setItem("xp", xp);
}

    function majAffichage() {
      pointsEl.innerText = points;
      localStorage.setItem("points", points);
    }

    function ajouter() {
      const val = parseInt(manualInput.value);
      if (!isNaN(val)) {
        points += val;
        majAffichage();
        manualInput.value = "";
      }
    }

    function retirer() {
      const val = parseInt(manualInput.value);
      if (!isNaN(val)) {
        points -= val;
        majAffichage();
        manualInput.value = "";
      }
    }

   function validerActions() {
  const checkboxes = document.querySelectorAll("input[type=checkbox]:checked");
  let total = 0;
  checkboxes.forEach(cb => total += parseInt(cb.value));
  points -= total;
  if (total > 0) {
    xp += total;
    majXPBar();
  }
  majAffichage();
  checkboxes.forEach(cb => cb.checked = false);
}


    majAffichage();
    majXPBar();
  </script>
</body>
</html>
